####C++ 虚函数机制

1.虚函数定义

在类中声明的函数前有virtual关键字的函数为虚函数。

```c++
virtual void func();
```

纯虚函数

```c++
virtual void func() = 0;
```

纯虚函数是指在基类中进行如上声明的函数，不需要实现函数体。

子类必须实现纯虚函数的函数体。

2.虚函数用处

在使用**指向子类对象的基类指针，并调用子类中的覆盖函数**时，如果该函数不是虚函数，那么将调用基类中的该函数；如果该函数是虚函数，则会调用子类中的该函数。

实现多态

3.虚函数编译时实现

在拥有虚函数的类或者继承有虚函数的类，有编译时在类首部有虚函数指针，指向虚函数表。在子函数编译时重写虚函数表，将虚函数替换成自己的函数指针。

参考:https://www.jianshu.com/p/d07e0ac0ba3c



